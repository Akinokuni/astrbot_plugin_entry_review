# 入群申请审核插件 (astrbot_plugin_entry_review)

一个用于自动化处理QQ群入群申请的AstrBot插件。该插件可以监控指定群的入群申请，并将申请信息转发到审核群，由授权用户进行审核。

## 功能特性

- 🔍 **自动监控**: 监控指定群的入群申请
- 📤 **自动转发**: 将申请信息转发到指定的审核群
- 👥 **权限管理**: 支持设置多个审核员
- ✅ **便捷审核**: 通过简单的指令同意或拒绝申请
- 💾 **配置持久化**: 配置信息自动保存到本地文件

## 安装方法

1. 将插件文件夹放置到AstrBot的 `data/plugins/` 目录下
2. 重启AstrBot或在插件管理页面重载插件

## 使用方法

### 1. 基础配置

首先需要配置源群（需要监控的群）和审核群（接收审核消息的群）：

```
/设置源群 123456789
/设置审核群 987654321
```

### 2. 添加审核员

添加有权限审核入群申请的用户：

```
/添加审核员 111111111
/添加审核员 222222222
```

### 3. 查看配置

查看当前的配置信息：

```
/查看配置
```

### 4. 审核申请

当有用户申请加入源群时，插件会自动将申请信息发送到审核群。审核员可以使用以下指令进行审核：

- **同意申请**: `通过 QQ号`
- **拒绝申请**: `拒绝 QQ号`

例如：
```
通过 123456789
拒绝 987654321
```

## 工作流程

1. 用户申请加入源群
2. 插件捕获入群申请事件
3. 将申请信息（QQ号、申请理由等）转发到审核群
4. 审核员在审核群中使用指令进行审核
5. 插件根据审核结果同意或拒绝申请

## 配置文件

插件会在插件目录下自动创建 `config.json` 配置文件，包含以下信息：

```json
{
  "source_group": "源群号",
  "target_group": "审核群号",
  "authorized_users": ["审核员QQ号1", "审核员QQ号2"]
}
```

## 注意事项

- 确保机器人在源群和审核群中都有相应的权限
- 审核员必须在审核群中才能执行审核指令
- 只有添加到授权列表的用户才能进行审核操作
- 插件需要能够接收群申请事件，请确保AstrBot配置正确

## 帮助信息

在任何群中发送 `/帮助` 可以查看插件的使用说明。

## 版本信息

- 版本: v1.0.0
- 作者: akinokuni
- 仓库: https://github.com/Akinokuni/astrbot_plugin_entry_review
- 基于: AstrBot 插件框架

## 开发状态

⚠️ **项目已搁置 - 技术限制**

### 问题描述

经过多次尝试和测试，本人目前无法成功实现通过NapCatQQ获取QQ群入群申请验证信息的功能。由于技术能力和知识范围的限制，暂时无法找到有效的解决方案。

### 尝试过程

1. **OneBot协议事件监听**: 尝试监听 `request.group.add` 事件，但可能由于配置不当或理解有误，未能成功捕获入群申请事件
2. **API接口调用**: 测试了相关的群管理API接口，但可能因为调用方式不正确，无法获取到待审核的入群申请列表
3. **事件回调配置**: 尝试调整OneBot事件配置，但可能存在配置理解偏差，仍无法接收到相关事件
4. **协议兼容性**: 对NapCatQQ与OneBot 11协议的兼容性进行了初步验证，但可能遗漏了关键配置或实现细节

### 技术限制与不足

- 本人对NapCatQQ的深层机制和高级配置理解不够深入
- 对OneBot协议的某些复杂特性掌握有限
- 可能存在技术实现思路上的局限性
- 调试和问题排查能力有待提升

### 当前状态

由于个人技术能力限制，项目暂时搁置。期待通过以下方式改进：
- 深入学习NapCatQQ的高级功能和配置
- 寻求社区帮助和技术指导
- 等待更详细的技术文档或示例代码
- 提升自身的协议理解和实现能力

## 支持

[AstrBot 帮助文档](https://astrbot.app)
